config BR2_PACKAGE_SWIFT_ARCH_SUPPORTS
	bool
	default y if BR2_x86_64
	default y if BR2_aarch64
	default y if BR2_arm

config BR2_PACKAGE_SWIFT_TARGET_ARCH
	string
	default "aarch64" if BR2_aarch64
	default "armv7" if BR2_arm
	default "x86_64" if BR2_x86_64

config BR2_PACKAGE_SWIFT
	bool "swift"
	depends on BR2_PACKAGE_SWIFT_ARCH_SUPPORTS
	depends on BR2_PACKAGE_ICU
	depends on BR2_TOOLCHAIN_HAS_THREADS
	depends on !BR2_STATIC_LIBS
	depends on BR2_TOOLCHAIN_USES_GLIBC
	depends on BR2_PACKAGE_ICU
	help
	  Swift is a general-purpose programming language built using a modern approach to safety, performance, and software design patterns.

	  http://swift.org

if BR2_PACKAGE_SWIFT

config BR2_PACKAGE_SWIFT_VERSION
	string "Swift version"
	default "5.4.2"

config BR2_PACKAGE_SWIFT_NATIVE_TOOLS
	string "Path to host Swift toolchain"
	default "/usr"

config BR2_PACKAGE_SWIFT_LLVM_DIR
	string "Path to host LLVM library path"
	default "/usr/lib/llvm-12"

endif

comment "swift needs a toolchain w/ Glibc, ICU, wchar, threads, C++, dynamic library"
	depends on BR2_PACKAGE_SWIFT_ARCH_SUPPORTS
	depends on !BR2_TOOLCHAIN_USES_GLIBC || !BR2_TOOLCHAIN_HAS_THREADS || !BR2_INSTALL_LIBSTDCPP \
		|| BR2_STATIC_LIBS || !BR2_USE_WCHAR || !BR2_PACKAGE_ICU
